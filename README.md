# WeDigest

> å¾®ä¿¡å…¬ä¼—å·æ–‡ç« æ™ºèƒ½å­¦ä¹ ç¬”è®° - ä½¿ç”¨ AI è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–ã€æ˜“è¯»çš„å­¦ä¹ ç¬”è®°

[![Next.js](https://img.shields.io/badge/Next.js-16.1-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-5.x-2D3748)](https://www.prisma.io/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## é¡¹ç›®ç®€ä»‹

WeDigest æ˜¯ä¸€ä¸ªåŸºäº AI çš„æ™ºèƒ½å­¦ä¹ ç¬”è®°ç”Ÿæˆå·¥å…·ï¼Œä¸“é—¨ç”¨äºå°†å¾®ä¿¡å…¬ä¼—å·æ–‡ç« è½¬åŒ–ä¸ºç»“æ„æ¸…æ™°ã€æ˜“äºç†è§£å’Œè®°å¿†çš„å­¦ä¹ ç¬”è®°ã€‚ä¸åŒäºç®€å•çš„æ–‡ç« æ‘˜è¦ï¼ŒWeDigest ç”Ÿæˆçš„ç¬”è®°åŒ…å«ï¼š

- **æ ¸å¿ƒè§‚ç‚¹** - æç‚¼æ–‡ç« æœ€é‡è¦çš„æ€æƒ³
- **è¯¦ç»†è¦ç‚¹** - å±•å¼€å„ä¸ªä¸»è¦éƒ¨åˆ†
- **æ¦‚å¿µè§£é‡Š** - æä¾›èƒŒæ™¯ä¿¡æ¯å’Œæ¦‚å¿µè¯´æ˜
- **æ€è€ƒå¯å‘** - æç‚¼æ–‡ç« ä¸­çš„æ€è€ƒå’Œæ„Ÿæ‚Ÿ
- **å®è·µå»ºè®®** - ç»™å‡ºå¯æ“ä½œçš„è¡ŒåŠ¨å»ºè®®

æ”¯æŒå¤šç§ AI æ¨¡å‹ï¼ˆOpenAIã€DeepSeekã€æ™ºè°±AIï¼‰ï¼Œæ•°æ®åŠ å¯†å­˜å‚¨ï¼Œå¤šç”¨æˆ·éš”ç¦»ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½æ–‡ç« æŠ“å–** - è‡ªåŠ¨æŠ“å–å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å†…å®¹ï¼Œæ”¯æŒåŠ¨æ€æ¸²æŸ“é¡µé¢
- **AI å­¦ä¹ ç¬”è®°ç”Ÿæˆ** - å°†æ–‡ç« è½¬åŒ–ä¸ºç»“æ„åŒ–çš„å­¦ä¹ ç¬”è®°ï¼Œè€Œéç®€å•æ‘˜è¦
- **å¤šç§ç¬”è®°é£æ ¼** - ç®€æ´ç‰ˆã€è¯¦ç»†ç‰ˆã€è¦ç‚¹ç‰ˆï¼Œæ»¡è¶³ä¸åŒå­¦ä¹ éœ€æ±‚
- **è‡ªå®šä¹‰ AI é…ç½®** - æ”¯æŒè‡ªå®šä¹‰ API åœ°å€å’Œæ¨¡å‹åç§°
- **å†å²è®°å½•ç®¡ç†** - è‡ªåŠ¨ä¿å­˜æ‰€æœ‰ç”Ÿæˆçš„ç¬”è®°ï¼Œæ”¯æŒæŸ¥çœ‹å’Œç®¡ç†
- **Markdown å¯¼å‡º** - å¯¼å‡ºä¸º Markdown æ ¼å¼ï¼Œä¾¿äºå¤åˆ¶åˆ°ç¬”è®°å·¥å…·
- **å®‰å…¨è®¤è¯** - NextAuth.js èº«ä»½éªŒè¯ï¼Œå¤šç”¨æˆ·æ•°æ®éš”ç¦»
- **API Key åŠ å¯†** - AES-256-GCM åŠ å¯†å­˜å‚¨ API å¯†é’¥

### ğŸ“š å­¦ä¹ ç¬”è®°ç‰¹æ€§

- **ç»“æ„æ¸…æ™°** - å±‚æ¬¡åˆ†æ˜ï¼Œæ˜“äºç†è§£å’Œè®°å¿†
- **é€‚å½“æ€»ç»“å’Œæ‹“å±•** - ç”¨è‡ªå·±çš„è¯é‡æ–°ç»„ç»‡ï¼Œæ·»åŠ å¿…è¦çš„æ³¨é‡Š
- **å…³é”®æ¦‚å¿µè§£é‡Š** - æä¾›èƒŒæ™¯ä¿¡æ¯å’Œæ¦‚å¿µè¯´æ˜
- **æ€è€ƒä¸å¯å‘** - æç‚¼æ–‡ç« ä¸­çš„æ€è€ƒã€æ„Ÿæ‚Ÿå’Œè¡ŒåŠ¨å»ºè®®
- **å®è·µå»ºè®®** - ä»æ–‡ç« ä¸­æç‚¼å¯æ“ä½œçš„å»ºè®®
- **Markdown æ ¼å¼** - æ”¯æŒ Notionã€Obsidian ç­‰ç¬”è®°å·¥å…·å¯¼å…¥

### ğŸ¤– AI æ¨¡å‹æ”¯æŒ

- **DeepSeek** (æ¨è) - æ€§ä»·æ¯”æé«˜çš„å›½äº§ AI æ¨¡å‹
- **OpenAI** - GPT-4 ç­‰å¼ºå¤§çš„å›½é™…æ¨¡å‹
- **æ™ºè°±AI** - å›½äº§é¢†å…ˆçš„ AI ä¾›åº”å•†

### ğŸ”’ å®‰å…¨ç‰¹æ€§

- **ç”¨æˆ·è®¤è¯** - NextAuth.js v5 èº«ä»½éªŒè¯ç³»ç»Ÿ
- **API Key åŠ å¯†** - AES-256-GCM åŠ å¯†å­˜å‚¨ API å¯†é’¥
- **å¯†ç å“ˆå¸Œ** - bcryptjs å¯†ç åŠ å¯†
- **æ•°æ®éš”ç¦»** - æ¯ä¸ªç”¨æˆ·çš„æ•°æ®å®Œå…¨éš”ç¦»
- **é”™è¯¯å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé™çº§æœºåˆ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Next.js 16.1 (App Router, Server Components)
- **UI åº“**: React 19.2
- **æ ·å¼**: Tailwind CSS 4
- **ç»„ä»¶åº“**: shadcn/ui (Radix UI)
- **çŠ¶æ€ç®¡ç†**: Zustand
- **ä¸»é¢˜**: next-themes
- **Markdown**: react-markdown + remark-gfm
- **é€šçŸ¥**: sonner

### åç«¯æŠ€æœ¯
- **è¿è¡Œæ—¶**: Next.js API Routes (Edge & Node)
- **æ•°æ®åº“**: SQLite + Prisma ORM
- **è®¤è¯**: NextAuth.js v5
- **åŠ å¯†**: crypto (Node.js built-in)
- **æŠ“å–**: Puppeteer + Cheerio + @sparticuz/chromium

### AI é›†æˆ
- **SDK**: OpenAI SDK (å…¼å®¹ OpenAI å…¼å®¹æ¥å£)
- **æ¨¡å‹**: æ”¯æŒè‡ªå®šä¹‰ Base URL å’Œæ¨¡å‹åç§°
- **è¶…æ—¶ä¸é‡è¯•**: 60 ç§’è¶…æ—¶ï¼Œ2 æ¬¡é‡è¯•æœºåˆ¶
- **è¯·æ±‚å¤´**: æ¨¡æ‹Ÿæµè§ˆå™¨è¯·æ±‚ï¼Œç»•è¿‡å¸¸è§é˜²æŠ¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- Python >= 3.6 (Windows ç¼–è¯‘ native æ¨¡å—éœ€è¦ï¼Œå¯é€‰)
- npm / yarn / pnpm

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/your-username/wedigest.git
cd wedigest
```

#### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“
DATABASE_URL="file:./dev.db"

# NextAuth å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»æ›´æ¢ï¼‰
AUTH_SECRET="wedigest-secret-key-please-change-in-production-use-openssl-rand-base64-32"

# API Key åŠ å¯†å¯†é’¥ (32å­—èŠ‚åå…­è¿›åˆ¶å­—ç¬¦ä¸²)
ENCRYPTION_KEY="a1b2c3d4e5f67890abcdef1234567890"

# AI Provider API Keys (å¯é€‰ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ç•Œé¢é…ç½®)
OPENAI_API_KEY=""
OPENAI_BASE_URL=""

# DeepSeek (æ¨è)
DEEPSEEK_API_KEY=""
DEEPSEEK_BASE_URL="https://api.deepseek.com"

# æ™ºè°±AI
ZHIPU_API_KEY=""

# é»˜è®¤ AI ä¾›åº”å•† (openai | deepseek | zhipu)
DEFAULT_AI_PROVIDER="deepseek"
```

#### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
npm run db:setup
```

#### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000)

#### 6. é¦–æ¬¡ä½¿ç”¨

1. ç‚¹å‡»å³ä¸Šè§’"ç™»å½•"æŒ‰é’®
2. åˆ‡æ¢åˆ°"æ³¨å†Œ"æ ‡ç­¾é¡µæ³¨å†Œæ–°è´¦å·
3. ç™»å½•åè¿›å…¥"è®¾ç½®"é¡µé¢
4. é…ç½®è‡³å°‘ä¸€ä¸ª AI Provider çš„ API Keyï¼ˆæ”¯æŒè‡ªå®šä¹‰ API åœ°å€å’Œæ¨¡å‹åç§°ï¼‰
5. è¿”å›é¦–é¡µè¾“å…¥å¾®ä¿¡æ–‡ç« é“¾æ¥
6. é€‰æ‹© AI æ¨¡å‹å’Œç¬”è®°é£æ ¼
7. å¼€å§‹ç”Ÿæˆå­¦ä¹ ç¬”è®°

## ğŸ”‘ è·å– API Key

### DeepSeek (æ¨è)

1. è®¿é—® [https://platform.deepseek.com](https://platform.deepseek.com)
2. æ³¨å†Œè´¦å·
3. è¿›å…¥ API Keys é¡µé¢åˆ›å»ºå¯†é’¥
4. å¤åˆ¶ API Key åˆ°è®¾ç½®é¡µé¢

**ä¼˜åŠ¿ï¼š**
- æ€§ä»·æ¯”æé«˜ï¼ˆRMB 1/1000 tokensï¼‰
- ä¸­æ–‡ç†è§£èƒ½åŠ›å¼º
- å“åº”é€Ÿåº¦å¿«

### OpenAI

1. è®¿é—® [https://platform.openai.com/api-keys](https://platform.openai.com/api-keys)
2. ç™»å½•æˆ–æ³¨å†Œè´¦å·
3. åˆ›å»ºæ–°çš„ API Key
4. å¤åˆ¶åˆ°è®¾ç½®é¡µé¢

**ä¼˜åŠ¿ï¼š**
- æ¨¡å‹èƒ½åŠ›æœ€å¼º
- ç”Ÿæ€å®Œå–„
- é€šç”¨æ€§å¼º

### æ™ºè°±AI

1. è®¿é—® [https://open.bigmodel.cn](https://open.bigmodel.cn)
2. æ³¨å†Œå¹¶å®åè®¤è¯
3. è¿›å…¥æ§åˆ¶å°åˆ›å»º API Key
4. å¤åˆ¶åˆ°è®¾ç½®é¡µé¢

**ä¼˜åŠ¿ï¼š**
- å›½äº§é¢†å…ˆ
- æ”¯æŒä¸­æ–‡ä¼˜åŒ–
- æœåŠ¡ç¨³å®š

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç¬”è®°é£æ ¼è¯´æ˜

#### ç®€æ´ç‰ˆ
é€‚ç”¨äºå¿«é€Ÿæµè§ˆå’Œå›é¡¾ã€‚

**åŒ…å«ï¼š**
- æ ¸å¿ƒè§‚ç‚¹ï¼ˆ2-3 å¥è¯ï¼‰
- å…³é”®è¦ç‚¹ï¼ˆ3-5 ä¸ªï¼‰

**å­—æ•°ï¼š** æ§åˆ¶åœ¨ç²¾ç®€èŒƒå›´å†…

#### è¯¦ç»†ç‰ˆ â­
é€‚ç”¨äºæ·±å…¥å­¦ä¹ å’Œç†è§£ã€‚

**åŒ…å«ï¼š**
- æ ¸å¿ƒè§‚ç‚¹ï¼ˆå®Œæ•´æ¦‚è¿°ï¼‰
- è¯¦ç»†è¦ç‚¹ï¼ˆå±•å¼€å„ä¸ªä¸»è¦éƒ¨åˆ†ï¼‰
- å…³é”®æ¦‚å¿µè§£é‡Šï¼ˆæä¾›èƒŒæ™¯ä¿¡æ¯ï¼‰
- é‡è¦ç»†èŠ‚/æ¡ˆä¾‹ï¼ˆå…³é”®æ•°æ®å’Œå®ä¾‹ï¼‰
- æ€è€ƒä¸å¯å‘ï¼ˆæç‚¼çš„æ€è€ƒå’Œè¡ŒåŠ¨å»ºè®®ï¼‰

**å­—æ•°ï¼š** 1500 å­—ä»¥å†…

#### è¦ç‚¹ç‰ˆ
é€‚ç”¨äºè®°å¿†å’Œå®è·µã€‚

**åŒ…å«ï¼š**
- æ ¸å¿ƒè§‚ç‚¹ï¼ˆä¸€å¥è¯ï¼‰
- ä¸»è¦è¦ç‚¹ï¼ˆ6-8 ä¸ªï¼‰
- å…³é”®æ¦‚å¿µï¼ˆç®€è¦è§£é‡Šï¼‰
- å®è·µå»ºè®®ï¼ˆå¯æ“ä½œï¼‰

**å­—æ•°ï¼š** 1000 å­—ä»¥å†…

### è‡ªå®šä¹‰ API é…ç½®

æ”¯æŒé…ç½®ç¬¬ä¸‰æ–¹ä¸­è½¬æœåŠ¡ï¼š

1. è¿›å…¥"è®¾ç½®"é¡µé¢
2. é€‰æ‹©å¯¹åº”çš„ AI ä¾›åº”å•†æ ‡ç­¾
3. å¡«å†™ API Key
4. ï¼ˆå¯é€‰ï¼‰å¡«å†™è‡ªå®šä¹‰ API åœ°å€ï¼ˆå¦‚ `https://your-api.com/v1`ï¼‰
5. ï¼ˆå¯é€‰ï¼‰å¡«å†™è‡ªå®šä¹‰æ¨¡å‹åç§°ï¼ˆå¦‚ `custom-model-name`ï¼‰
6. ç‚¹å‡»"ä¿å­˜"
7. ç‚¹å‡»"æµ‹è¯•è¿æ¥"éªŒè¯é…ç½®

**æ³¨æ„äº‹é¡¹ï¼š**
- API åœ°å€éœ€è¦åŒ…å«å®Œæ•´çš„è·¯å¾„
- æ¨¡å‹åç§°éœ€è¦ä¸ API æœåŠ¡å•†æä¾›çš„åç§°ä¸€è‡´
- æŸäº›ç¬¬ä¸‰æ–¹æœåŠ¡å¯èƒ½æœ‰é˜²æŠ¤ï¼Œå»ºè®®ä½¿ç”¨å®˜æ–¹ API

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
wedigest/
â”œâ”€â”€ prisma/                # Prisma é…ç½®
â”‚   â”œâ”€â”€ schema.prisma     # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ dev.db            # SQLite æ•°æ®åº“æ–‡ä»¶ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ scripts/               # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ check-env.js      # ç¯å¢ƒæ£€æŸ¥
â”‚   â””â”€â”€ create-tables.js # å¤‡ç”¨è¡¨åˆ›å»ºè„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/        # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/  # NextAuth è®¤è¯
â”‚   â”‚   â”‚   â”œâ”€â”€ register/            # ç”¨æˆ·æ³¨å†Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ fetch/               # æ–‡ç« æŠ“å–
â”‚   â”‚   â”‚   â”œâ”€â”€ summarize/           # AI ç¬”è®°ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ history/             # å†å²è®°å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/            # è®¾ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api-key/        # API Key ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ test-api/       # API æµ‹è¯•æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ export/              # å¯¼å‡ºåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ history/     # å†å²è®°å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login/       # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ result/      # ç¬”è®°ç»“æœé¡µé¢
â”‚   â”‚   â”œâ”€â”€ settings/    # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx   # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx     # é¦–é¡µ
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/         # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ providers.tsx # Provider é…ç½®
â”‚   â”‚   â””â”€â”€ auth-guard.tsx # è®¤è¯å®ˆå«
â”‚   â”œâ”€â”€ lib/            # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ai-providers/    # AI ä¾›åº”å•†é€‚é…å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ base.ts         # åŸºç¡€æŠ½è±¡ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.ts       # OpenAI å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ deepseek.ts     # DeepSeek å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ zhipu.ts        # æ™ºè°±AI å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ index.ts        # Provider å·¥å‚
â”‚   â”‚   â”œâ”€â”€ scraper/         # æ–‡ç« æŠ“å–æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ puppeteer.ts    # Puppeteer å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ parser.ts       # å†…å®¹è§£æ
â”‚   â”‚   â”‚   â””â”€â”€ index.ts        # ç»Ÿä¸€å…¥å£
â”‚   â”‚   â”œâ”€â”€ auth.ts          # NextAuth é…ç½®
â”‚   â”‚   â”œâ”€â”€ db.ts            # Prisma å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ crypto.ts        # åŠ å¯†å·¥å…·
â”‚   â”‚   â””â”€â”€ utils.ts         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ store/           # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ app-store.ts  # åº”ç”¨çŠ¶æ€
â”‚   â””â”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ article.ts
â”‚       â”œâ”€â”€ ai-provider.ts
â”‚       â”œâ”€â”€ api.ts
â”‚       â””â”€â”€ next-auth.d.ts
â”œâ”€â”€ .env                 # ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.example         # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ init-db.js           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ next.config.ts       # Next.js é…ç½®
â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â”œâ”€â”€ components.json      # shadcn/ui é…ç½®
â”œâ”€â”€ AGENTS.md            # ä»£ç†ç¼–ç æŒ‡å—
â”œâ”€â”€ API_BYPASS.md        # API é˜²æŠ¤ç»•è¿‡è¯´æ˜
â”œâ”€â”€ API_TROUBLESHOOTING.md # API è¿æ¥é—®é¢˜æ’æŸ¥
â”œâ”€â”€ NOTE_FEATURE.md      # å­¦ä¹ ç¬”è®°åŠŸèƒ½è¯´æ˜
â”œâ”€â”€ QUICKSTART.md        # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ WINDOWS_FIX_SUMMARY.md # Windows å…¼å®¹æ€§ä¿®å¤
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸ—„ï¸ æ•°æ®åº“ç®¡ç†

### å¯ç”¨å‘½ä»¤

```bash
# åˆå§‹åŒ–æ•°æ®åº“ï¼ˆåŒ…å« Prisma Client ç”Ÿæˆå’Œè¡¨åˆ›å»ºï¼‰
npm run db:setup

# ç”Ÿæˆ Prisma Client
npm run db:generate
# æˆ–
npx prisma generate

# æ¨é€æ•°æ®åº“ç»“æ„
npm run db:push
# æˆ–
npx prisma db push

# é‡æ–°ç¼–è¯‘ better-sqlite3 (Windows ä¸Šé‡åˆ°é—®é¢˜)
npm run db:rebuild

# ä½¿ç”¨å¤‡ç”¨è„šæœ¬åˆ›å»ºè¡¨
npm run db:create-tables

# ç¯å¢ƒæ£€æŸ¥
npm run db:check
```

### æ•°æ®æ¨¡å‹

- **User** - ç”¨æˆ·ä¿¡æ¯ï¼ˆid, email, name, password, image, createdAt, updatedAtï¼‰
- **ApiKey** - åŠ å¯†å­˜å‚¨çš„ API å¯†é’¥ï¼ˆid, userId, provider, encryptedKey, baseUrl, modelName, isActive, createdAt, updatedAtï¼‰
- **Summary** - å­¦ä¹ ç¬”è®°å†å²è®°å½•ï¼ˆid, userId, articleUrl, articleTitle, articleAuthor, originalContent, summary, markdown, keywords, provider, createdAtï¼‰

## ğŸ”Œ API ç«¯ç‚¹

### è®¤è¯
- `GET/POST /api/auth/[...nextauth]` - NextAuth.js è®¤è¯
- `GET /api/auth/session` - è·å–å½“å‰ä¼šè¯
- `GET /api/auth/providers` - è·å–å¯ç”¨çš„è®¤è¯æä¾›è€…
- `GET /api/auth/error` - è®¤è¯é”™è¯¯å¤„ç†
- `POST /api/register` - ç”¨æˆ·æ³¨å†Œ

### æ–‡ç« å¤„ç†
- `POST /api/fetch` - æŠ“å–å¾®ä¿¡å…¬ä¼—å·æ–‡ç« 
- `POST /api/summarize` - ç”Ÿæˆ AI å­¦ä¹ ç¬”è®°

### å†å²è®°å½•
- `GET /api/history` - è·å–å†å²è®°å½•åˆ—è¡¨
- `GET /api/history/[id]` - è·å–å•æ¡è®°å½•è¯¦æƒ…
- `DELETE /api/history/[id]` - åˆ é™¤è®°å½•

### è®¾ç½®
- `GET /api/settings/api-key` - è·å– API Keys
- `GET /api/settings/api-key?provider=deepseek` - è·å–æŒ‡å®š Provider çš„ API Key
- `POST /api/settings/api-key` - ä¿å­˜ API Key
- `DELETE /api/settings/api-key?provider=deepseek` - åˆ é™¤ API Key
- `POST /api/settings/test-api` - æµ‹è¯• API è¿æ¥

### å¯¼å‡º
- `GET /api/export?id=xxx` - å¯¼å‡ºå­¦ä¹ ç¬”è®°ä¸º Markdown

## ğŸš¢ éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

```bash
npm start
```

### éƒ¨ç½²å¹³å°å»ºè®®

#### Vercel
- é›¶é…ç½®éƒ¨ç½²
- è‡ªåŠ¨ HTTPS
- å…¨çƒ CDN
- **æ³¨æ„**: ç”±äºéœ€è¦ SQLite æŒä¹…åŒ–å­˜å‚¨ï¼Œéœ€è¦é¢å¤–é…ç½®

#### Railway
- æ”¯æŒ SQLite
- è‡ªåŠ¨æŒä¹…åŒ–å­˜å‚¨
- ç®€å•æ˜“ç”¨
- **æ¨è**

#### VPS / è‡ªå»º
- å®Œå…¨æ§åˆ¶
- å¯ä½¿ç”¨ä»»æ„æ•°æ®åº“
- é€‚åˆé«˜å¹¶å‘åœºæ™¯

### ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹

1. **æ›´æ¢å¯†é’¥**
   - `AUTH_SECRET` - ä½¿ç”¨ `openssl rand -base64 32` ç”Ÿæˆ
   - `ENCRYPTION_KEY` - ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²ï¼ˆ32å­—èŠ‚åå…­è¿›åˆ¶ï¼‰

2. **é…ç½®æ•°æ®åº“**
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PostgreSQL æˆ– MySQL
   - ä¿®æ”¹ `DATABASE_URL` ç¯å¢ƒå˜é‡
   - è¿è¡Œ `npx prisma migrate deploy`

3. **è®¾ç½®ç¯å¢ƒå˜é‡**
   - ç¡®ä¿æ‰€æœ‰æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
   - ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

4. **HTTPS é…ç½®**
   - ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxã€Caddyï¼‰
   - é…ç½® SSL è¯ä¹¦
   - å¯ç”¨ HSTS

## ğŸ§ª å¼€å‘æŒ‡å—

### è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000)

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

### æ·»åŠ æ–°çš„ AI ä¾›åº”å•†

1. åœ¨ `src/types/ai-provider.ts` ä¸­æ·»åŠ ä¾›åº”å•†ç±»å‹
2. åœ¨ `src/lib/ai-providers/` ä¸­åˆ›å»ºæ–°çš„ä¾›åº”å•†é€‚é…å™¨
3. ç»§æ‰¿ `BaseAIProvider` æŠ½è±¡ç±»
4. å®ç° `summarize` æ–¹æ³•
5. åœ¨ `src/lib/ai-providers/index.ts` ä¸­æ³¨å†Œä¾›åº”å•†
6. åœ¨ `src/app/settings/page.tsx` ä¸­æ·»åŠ  UI é€‰é¡¹

### ä¿®æ”¹ç¬”è®°æç¤ºè¯

ç¼–è¾‘ `src/lib/ai-providers/base.ts` ä¸­çš„ `buildPrompt` æ–¹æ³•ï¼Œè‡ªå®šä¹‰ï¼š
- ç¬”è®°é£æ ¼æŒ‡å¯¼
- è¾“å‡ºæ ¼å¼è¦æ±‚
- å­—æ•°é™åˆ¶

## â“ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥

**é—®é¢˜ï¼š** Windows ä¸Š Prisma å¼•æ“æŠ¥é”™æˆ– better-sqlite3 ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡æ–°ç¼–è¯‘ better-sqlite3
npm run db:rebuild

# ç„¶åè¿è¡Œåˆå§‹åŒ–
npm run db:setup
```

**å¦‚æœä»ç„¶å¤±è´¥ï¼š**
- å®‰è£… Visual C++ Redistributable: https://aka.ms/vs/17/release/vc_redist.x64.exe
- ç¡®ä¿å·²å®‰è£… Python 3.6+ï¼ˆWindows ç¼–è¯‘ native æ¨¡å—éœ€è¦ï¼‰

### 2. Puppeteer æŠ“å–å¤±è´¥

**é—®é¢˜ï¼š** Chromium ä¸‹è½½å¤±è´¥æˆ–å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®ä¿å·²å®‰è£…å®Œæ•´ä¾èµ–ï¼š`npm install puppeteer`
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### 3. AI API è°ƒç”¨å¤±è´¥

**é—®é¢˜ï¼š** è¿æ¥è¶…æ—¶æˆ–è¿”å›é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ API Key é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ API åœ°å€å’Œæ¨¡å‹åç§°
- å°è¯•ä½¿ç”¨å®˜æ–¹ APIï¼ˆç¬¬ä¸‰æ–¹æœåŠ¡å¯èƒ½æœ‰é˜²æŠ¤ï¼‰
- æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—äº†è§£è¯¦ç»†é”™è¯¯ä¿¡æ¯

### 4. API Key è§£å¯†å¤±è´¥

**é—®é¢˜ï¼š** è®¾ç½®é¡µé¢æ˜¾ç¤º"Key corrupted"æˆ–æ— æ³•åŠ è½½å·²ä¿å­˜çš„ API Key

**è§£å†³æ–¹æ¡ˆï¼š**
- è¿™é€šå¸¸å‘ç”Ÿåœ¨ `ENCRYPTION_KEY` æ›´æ”¹å
- é‡æ–°ä¿å­˜ API Key å³å¯è§£å†³
- ç”Ÿäº§ç¯å¢ƒä¸­è¯·å‹¿éšæ„æ›´æ”¹ `ENCRYPTION_KEY`

### 5. Turbopack é”™è¯¯

**é—®é¢˜ï¼š** å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶å‡ºç° Turbopack panic é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
- é¡¹ç›®å·²ç¦ç”¨ Turbopackï¼Œä½¿ç”¨æ ‡å‡† Webpack
- ç¡®ä¿è¿è¡Œçš„æ˜¯ `npm run dev` è€Œä¸æ˜¯ `next dev --turbopack`
- å¦‚æœé—®é¢˜æŒç»­ï¼Œåˆ é™¤ `.next` ç›®å½•åé‡æ–°å¯åŠ¨

### 6. æ§åˆ¶å°è¾“å…¥è­¦å‘Š

**é—®é¢˜ï¼š** React è­¦å‘Š "A component is changing a controlled input to be uncontrolled"

**è§£å†³æ–¹æ¡ˆï¼š**
- å·²ä¿®å¤ï¼Œç¡®ä¿ä½¿ç”¨æœ€æ–°ä»£ç 
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡è¯•

## ğŸ”§ è¿‘æœŸæ›´æ–°

### v0.1.0 (æœ€æ–°)

- âœ… ä¿®å¤ NextAuth v5 å®¢æˆ·ç«¯è·å–é”™è¯¯ï¼ˆæ·»åŠ  trustHost é…ç½®ï¼‰
- âœ… ä¿®å¤ TypeScript ç±»å‹æ£€æŸ¥é”™è¯¯ï¼ˆAPI Key è§£å¯† null å¤„ç†ï¼‰
- âœ… ä¿®å¤ bcryptjs ç±»å‹å®šä¹‰é—®é¢˜ï¼ˆæ·»åŠ  types é…ç½®ï¼‰
- âœ… ç§»é™¤è¿‡æ—¶çš„ Turbopack é…ç½®
- âœ… åˆ›å»º MIT å¼€æºåè®®æ–‡ä»¶
- âœ… ä¼˜åŒ–é¡¹ç›®æ–‡æ¡£ç»“æ„

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [AGENTS.md](AGENTS.md) - ä»£ç†ç¼–ç æŒ‡å—ï¼ˆä¾› AI åŠ©æ‰‹ä½¿ç”¨ï¼‰
- [docs/WINDOWS_TROUBLESHOOTING.md](docs/WINDOWS_TROUBLESHOOTING.md) - Windows æ•…éšœæ’é™¤
- [API_BYPASS.md](API_BYPASS.md) - API é˜²æŠ¤ç»•è¿‡è¯´æ˜
- [API_TROUBLESHOOTING.md](API_TROUBLESHOOTING.md) - API è¿æ¥é—®é¢˜æ’æŸ¥

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ å¿…è¦çš„ç±»å‹å®šä¹‰
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Prisma](https://www.prisma.io/) - ORM å·¥å…·
- [Radix UI](https://www.radix-ui.com/) - UI ç»„ä»¶åº“
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - ç»„ä»¶åº“
- [OpenAI](https://openai.com/) - AI SDK
- [DeepSeek](https://www.deepseek.com/) - AI æœåŠ¡å•†
- [æ™ºè°±AI](https://open.bigmodel.cn/) - AI æœåŠ¡å•†

## ğŸ“® è”ç³»æ–¹å¼

- é—®é¢˜åé¦ˆï¼šæäº¤ [Issue](https://github.com/your-username/wedigest/issues)
- åŠŸèƒ½å»ºè®®ï¼šæäº¤ [Feature Request](https://github.com/your-username/wedigest/issues)

## ğŸ“œ è®¸å¯å£°æ˜

**æ³¨æ„ï¼š** æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ã€‚ä½¿ç”¨æœ¬å·¥å…·æŠ“å–å’Œæ€»ç»“æ–‡ç« æ—¶ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’ŒæœåŠ¡æ¡æ¬¾ã€‚

- å¾®ä¿¡å…¬ä¼—å·æ–‡ç« ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰
- ç”Ÿæˆçš„å­¦ä¹ ç¬”è®°ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨
- è¯·å‹¿å°†æœ¬å·¥å…·ç”¨äºå¤§è§„æ¨¡çˆ¬å–æˆ–å•†ä¸šç”¨é€”
- ä½¿ç”¨æœ¬å·¥å…·äº§ç”Ÿçš„ä»»ä½•åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star**

Made with â¤ï¸ by WeDigest Team

</div>
